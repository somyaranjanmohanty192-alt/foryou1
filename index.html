<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday My Love!</title>
    <meta name="description" content="A special interactive birthday card for my amazing wife">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Chewy&family=Comic+Neue:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-pink: #e84393;
            --secondary-pink: #fd79a8;
            --light-pink: #ffd1dc;
            --gold: #ffd700;
            --text-color: #333;
            --shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Comic Neue', cursive;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 50%, #a1c4fd 100%);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            position: relative;
        }

        /* Loading Screen */
        #loadingScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 50%, #a1c4fd 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading-content {
            text-align: center;
            color: white;
        }

        .loading-content h1 {
            font-family: 'Chewy', cursive;
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.2);
        }

        .loading-bar-container {
            width: 200px;
            height: 12px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            overflow: hidden;
            margin: 0 auto;
        }

        #loadingBar {
            height: 100%;
            width: 0%;
            background: white;
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .floating-element {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.7;
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: translateY(0) rotate(360deg);
                opacity: 0.7;
            }
        }

        .container {
            max-width: 1000px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            box-shadow: var(--shadow);
            padding: 50px;
            position: relative;
            overflow: hidden;
            margin: 20px 0;
            backdrop-filter: blur(10px);
            border: 3px solid var(--primary-pink);
            transform: translateY(20px);
            opacity: 0;
            animation: fadeInUp 1s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            z-index: 0;
        }

        .hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary-pink);
            transform: rotate(45deg);
            opacity: 0;
            animation: floatUp 8s linear infinite;
        }

        .heart:before, .heart:after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary-pink);
            border-radius: 50%;
        }

        .heart:before {
            top: -10px;
            left: 0;
        }

        .heart:after {
            top: 0;
            left: -10px;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(45deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(45deg);
                opacity: 0;
            }
        }

        h1 {
            font-family: 'Chewy', cursive;
            font-size: 5rem;
            color: var(--primary-pink);
            margin-bottom: 10px;
            text-shadow: 3px 3px 0px var(--gold);
            position: relative;
            z-index: 1;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        h2 {
            font-size: 2.5rem;
            color: var(--secondary-pink);
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
            font-weight: 700;
            text-shadow: 2px 2px 0px var(--gold);
        }

        .cartoon-container {
            width: 350px;
            height: 350px;
            margin: 0 auto 40px;
            border-radius: 50%;
            overflow: hidden;
            border: 15px solid transparent;
            background: linear-gradient(45deg, var(--secondary-pink), var(--primary-pink), #a29bfe, var(--gold));
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: rotateBorder 10s linear infinite;
        }

        @keyframes rotateBorder {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .cartoon-woman {
            width: 320px;
            height: 320px;
            background: linear-gradient(45deg, var(--light-pink), #ffe4e6);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .face {
            width: 200px;
            height: 220px;
            background: #ffe4e1;
            border-radius: 50%;
            position: relative;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            z-index: 2;
        }

        .hair {
            position: absolute;
            width: 220px;
            height: 120px;
            background: linear-gradient(45deg, #8b4513, #a0522d);
            top: -40px;
            border-radius: 110px 110px 0 0;
            z-index: 1;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .bangs {
            position: absolute;
            width: 200px;
            height: 50px;
            background: linear-gradient(45deg, #8b4513, #a0522d);
            top: -30px;
            border-radius: 100px 100px 0 0;
            z-index: 2;
        }

        .hair-detail {
            position: absolute;
            width: 180px;
            height: 30px;
            background: #a0522d;
            top: -20px;
            border-radius: 90px 90px 0 0;
            z-index: 3;
        }

        .eyes {
            position: absolute;
            top: 80px;
            width: 100%;
            display: flex;
            justify-content: space-around;
            z-index: 3;
        }

        .eye {
            width: 35px;
            height: 45px;
            background: white;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 0 3px #333;
            animation: blink 4s infinite;
        }

        .pupil {
            position: absolute;
            width: 18px;
            height: 18px;
            background: #333;
            border-radius: 50%;
            top: 13px;
            left: 8px;
        }

        .eye-sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            top: 16px;
            left: 12px;
            z-index: 4;
        }

        @keyframes blink {
            0%, 45%, 55%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(0.1); }
        }

        .nose {
            position: absolute;
            width: 18px;
            height: 25px;
            background: #ffb6c1;
            border-radius: 40%;
            top: 120px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3;
        }

        .mouth {
            position: absolute;
            width: 60px;
            height: 25px;
            background: #e75480;
            border-radius: 0 0 30px 30px;
            top: 160px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3;
            animation: smile 3s infinite alternate;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
        }

        @keyframes smile {
            0% { width: 50px; height: 20px; }
            100% { width: 60px; height: 25px; }
        }

        .blush {
            position: absolute;
            width: 35px;
            height: 20px;
            background: #ffb6c1;
            border-radius: 50%;
            top: 100px;
            opacity: 0.7;
            box-shadow: 0 0 10px #ffb6c1;
        }

        .blush-left {
            left: 35px;
        }

        .blush-right {
            right: 35px;
        }

        .earrings {
            position: absolute;
            width: 12px;
            height: 18px;
            background: var(--gold);
            border-radius: 50%;
            top: 85px;
            z-index: 0;
            box-shadow: 0 0 10px var(--gold);
            animation: sparkle 2s infinite alternate;
        }

        @keyframes sparkle {
            0% { transform: scale(1); }
            100% { transform: scale(1.2); }
        }

        .earring-left {
            left: 25px;
        }

        .earring-right {
            right: 25px;
        }

        .necklace {
            position: absolute;
            width: 120px;
            height: 12px;
            background: var(--gold);
            border-radius: 10px;
            top: 200px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            box-shadow: 0 0 10px var(--gold);
        }

        .dress {
            position: absolute;
            width: 220px;
            height: 120px;
            background: linear-gradient(45deg, var(--primary-pink), var(--secondary-pink));
            top: 190px;
            border-radius: 110px 110px 0 0;
            z-index: 1;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .dress-neck {
            position: absolute;
            width: 70px;
            height: 35px;
            background: var(--secondary-pink);
            top: 190px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 35px 35px 0 0;
            z-index: 2;
        }

        .dress-detail {
            position: absolute;
            width: 200px;
            height: 10px;
            background: var(--gold);
            top: 250px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 5px;
            z-index: 2;
        }

        .crown {
            position: absolute;
            width: 80px;
            height: 40px;
            background: var(--gold);
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 40px 40px 0 0;
            z-index: 4;
            box-shadow: 0 0 15px var(--gold);
        }

        .crown-point {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--gold);
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            top: -20px;
        }

        .crown-point:nth-child(1) {
            left: 10px;
        }

        .crown-point:nth-child(2) {
            left: 30px;
        }

        .crown-point:nth-child(3) {
            left: 50px;
        }

        .crown-jewel {
            position: absolute;
            width: 15px;
            height: 15px;
            background: var(--primary-pink);
            border-radius: 50%;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 5;
        }

        .message {
            font-size: 1.4rem;
            line-height: 1.8;
            margin-bottom: 40px;
            color: #555;
            position: relative;
            z-index: 1;
            text-align: left;
            background: rgba(255, 255, 255, 0.7);
            padding: 30px;
            border-radius: 25px;
            box-shadow: var(--shadow);
            border-left: 8px solid var(--secondary-pink);
            border-right: 8px solid var(--secondary-pink);
        }

        .message p {
            margin-bottom: 20px;
            text-align: center;
        }

        .message .signature {
            text-align: right;
            font-style: italic;
            margin-top: 20px;
            color: var(--primary-pink);
            font-weight: 700;
            font-size: 1.6rem;
        }

        .interactive-section {
            margin: 50px 0;
            position: relative;
            z-index: 1;
        }

        .love-meter-container {
            background: rgba(255, 255, 255, 0.7);
            padding: 30px;
            border-radius: 25px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            border: 3px solid var(--gold);
        }

        .love-meter {
            width: 100%;
            height: 40px;
            background: #f1f1f1;
            border-radius: 20px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
            border: 3px solid var(--primary-pink);
        }

        .love-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-pink), var(--secondary-pink));
            border-radius: 20px;
            width: 100%;
            transition: width 1s ease;
            position: relative;
            overflow: hidden;
        }

        .love-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shine 2s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .love-percentage {
            font-size: 1.8rem;
            color: var(--primary-pink);
            font-weight: bold;
            margin: 10px 0;
            text-shadow: 2px 2px 0px var(--gold);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            position: relative;
            z-index: 1;
            flex-wrap: wrap;
        }

        button {
            padding: 20px 40px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(45deg, var(--primary-pink), var(--secondary-pink));
            color: white;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            border: 3px solid var(--gold);
            font-family: 'Chewy', cursive;
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.2);
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.5s ease;
        }

        button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        button:hover::before {
            transform: translateX(100%);
        }

        /* Heart Drawing Section */
        .heart-drawing-container {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 25px;
            box-shadow: var(--shadow);
            margin: 40px 0;
            border: 3px solid var(--gold);
        }

        .drawing-instructions {
            margin-bottom: 20px;
            font-size: 1.2rem;
            color: var(--primary-pink);
        }

        .drawing-area {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 400px;
            margin: 0 auto;
            border: 3px dashed var(--secondary-pink);
            border-radius: 15px;
            background: #fff;
            overflow: hidden;
            touch-action: none;
        }

        #drawingCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: crosshair;
        }

        .heart-template {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.2;
        }

        .drawing-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .drawing-controls button {
            padding: 12px 25px;
            font-size: 1.1rem;
        }

        .progress-container {
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #f1f1f1;
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
            border: 2px solid var(--primary-pink);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-pink), var(--secondary-pink));
            width: 0%;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-text {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-pink);
            margin: 10px 0;
        }

        .completion-message {
            font-size: 1.3rem;
            margin-top: 15px;
            min-height: 40px;
            color: var(--primary-pink);
            font-weight: bold;
        }

        .color-picker {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
        }

        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: transform 0.2s ease;
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        .color-option.active {
            border-color: var(--gold);
            transform: scale(1.1);
        }

        .brush-size {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
        }

        .brush-size label {
            font-weight: bold;
            color: var(--primary-pink);
        }

        .brush-size input {
            width: 150px;
        }

        /* Love Game Styles */
        .love-game-container {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 25px;
            box-shadow: var(--shadow);
            margin: 40px 0;
            border: 3px solid var(--gold);
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--primary-pink);
        }

        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 500px;
            margin: 0 auto;
        }

        .memory-card {
            height: 100px;
            background: linear-gradient(45deg, var(--secondary-pink), var(--primary-pink));
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform-style: preserve-3d;
            position: relative;
        }

        .memory-card .front, .memory-card .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 15px;
        }

        .memory-card .front {
            background: linear-gradient(45deg, var(--secondary-pink), var(--primary-pink));
            transform: rotateY(180deg);
        }

        .memory-card .back {
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
            font-size: 2.5rem;
        }

        .memory-card.flipped {
            transform: rotateY(180deg);
        }

        .memory-card.matched {
            transform: rotateY(180deg);
            background: linear-gradient(45deg, #4CAF50, #45a049);
            cursor: default;
        }

        .game-message {
            margin-top: 20px;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-pink);
            min-height: 40px;
        }

        /* Special Surprise Styles */
        .special-surprise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .special-surprise.active {
            opacity: 1;
            pointer-events: all;
        }

        .surprise-content {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            padding: 50px;
            border-radius: 30px;
            text-align: center;
            max-width: 700px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            border: 5px solid var(--gold);
            position: relative;
            animation: popIn 0.5s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        @keyframes popIn {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .close-surprise {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2.5rem;
            color: var(--primary-pink);
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .close-surprise:hover {
            transform: rotate(90deg) scale(1.2);
        }

        .surprise-content h2 {
            font-family: 'Chewy', cursive;
            font-size: 3.5rem;
            margin-bottom: 30px;
            color: var(--primary-pink);
            text-shadow: 3px 3px 0px var(--gold);
        }

        .promises-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .promise-card {
            background: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            border: 3px solid var(--gold);
            transition: transform 0.3s ease;
        }

        .promise-card:hover {
            transform: translateY(-5px);
        }

        .promise-card i {
            font-size: 3rem;
            color: var(--primary-pink);
            margin-bottom: 15px;
        }

        .promise-card h3 {
            font-size: 1.4rem;
            color: var(--primary-pink);
            margin-bottom: 10px;
            font-family: 'Chewy', cursive;
        }

        .promise-card p {
            font-size: 1.1rem;
            color: #555;
            line-height: 1.5;
        }

        .romantic-message {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
            border: 3px solid var(--gold);
        }

        .romantic-message p {
            font-size: 1.3rem;
            color: var(--primary-pink);
            font-style: italic;
            line-height: 1.6;
        }

        /* Win Celebration Styles */
        .win-celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .win-celebration.active {
            opacity: 1;
            pointer-events: all;
        }

        .win-content {
            background: white;
            padding: 50px;
            border-radius: 30px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            border: 5px solid var(--gold);
        }

        .win-content h2 {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .win-content p {
            font-size: 1.5rem;
            margin-bottom: 30px;
        }

        /* Music Player */
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50px;
            padding: 10px 20px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 10;
            border: 2px solid var(--primary-pink);
        }

        .music-player button {
            padding: 10px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .music-title {
            font-size: 0.9rem;
            color: var(--primary-pink);
            font-weight: bold;
        }

        /* Photo Gallery */
        .photo-gallery {
            margin: 40px 0;
            position: relative;
            z-index: 1;
        }

        .gallery-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .gallery-item {
            height: 200px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-placeholder {
            background: linear-gradient(45deg, var(--secondary-pink), var(--primary-pink));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        /* Countdown */
        .countdown-container {
            background: rgba(255, 255, 255, 0.7);
            padding: 30px;
            border-radius: 25px;
            box-shadow: var(--shadow);
            margin: 40px 0;
            border: 3px solid var(--gold);
        }

        .countdown-timer {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .countdown-unit {
            background: linear-gradient(45deg, var(--primary-pink), var(--secondary-pink));
            color: white;
            padding: 20px;
            border-radius: 15px;
            min-width: 80px;
            box-shadow: var(--shadow);
        }

        .countdown-value {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .countdown-label {
            font-size: 1rem;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 3.5rem;
            }
            
            h2 {
                font-size: 2rem;
            }
            
            .cartoon-container {
                width: 280px;
                height: 280px;
            }
            
            .cartoon-woman {
                width: 250px;
                height: 250px;
            }
            
            .face {
                width: 160px;
                height: 180px;
            }
            
            .hair, .bangs {
                width: 180px;
            }
            
            .message {
                font-size: 1.2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            button {
                width: 80%;
            }
            
            .memory-game {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .memory-card {
                height: 80px;
                font-size: 1.5rem;
            }
            
            .promises-container {
                grid-template-columns: 1fr;
            }
            
            .surprise-content {
                padding: 30px 20px;
            }
            
            .countdown-timer {
                flex-wrap: wrap;
            }
            
            .music-player {
                bottom: 10px;
                right: 10px;
                left: 10px;
                justify-content: center;
            }
            
            .drawing-area {
                height: 300px;
            }
            
            .drawing-controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen">
        <div class="loading-content">
            <h1>Loading...</h1>
            <div class="loading-bar-container">
                <div id="loadingBar"></div>
            </div>
        </div>
    </div>

    <div class="background-animation" id="backgroundAnimation"></div>
    <div class="hearts" id="heartsContainer"></div>
    
    <!-- Music Player -->
    <div class="music-player">
        <span class="music-title">Our Song</span>
        <button id="playMusic"><i class="fas fa-play"></i></button>
        <button id="pauseMusic"><i class="fas fa-pause"></i></button>
    </div>
    
    <div class="container">
        <h1>Happy Birthday, My Love! üíñ</h1>
        <h2>To the most amazing woman in my life</h2>
        
        <div class="cartoon-container">
            <div class="cartoon-woman">
                <div class="crown">
                    <div class="crown-point"></div>
                    <div class="crown-point"></div>
                    <div class="crown-point"></div>
                    <div class="crown-jewel"></div>
                </div>
                <div class="hair"></div>
                <div class="bangs"></div>
                <div class="hair-detail"></div>
                <div class="earrings earring-left"></div>
                <div class="earrings earring-right"></div>
                <div class="face">
                    <div class="eyes">
                        <div class="eye">
                            <div class="pupil"></div>
                            <div class="eye-sparkle"></div>
                        </div>
                        <div class="eye">
                            <div class="pupil"></div>
                            <div class="eye-sparkle"></div>
                        </div>
                    </div>
                    <div class="blush blush-left"></div>
                    <div class="blush blush-right"></div>
                    <div class="nose"></div>
                    <div class="mouth"></div>
                </div>
                <div class="necklace"></div>
                <div class="dress"></div>
                <div class="dress-neck"></div>
                <div class="dress-detail"></div>
            </div>
        </div>
        
        <div class="message">
            <p>My Dearest Wife,</p>
            <p>On this special day, I want to remind you how incredibly blessed I am to have you in my life. You are my sunshine on cloudy days, my comfort in times of trouble, and my greatest joy every single day.</p>
            <p>Your smile lights up my world, your laughter is my favorite melody, and your love is the greatest gift I've ever received. Today, I celebrate you - the wonderful, beautiful, amazing woman who has made my life complete.</p>
            <p>May this birthday bring you as much happiness as you've brought into my life. I love you more than words can express!</p>
            <p class="signature">Forever yours,<br>Your Loving Husband</p>
        </div>
        
        <!-- Photo Gallery -->
        <div class="photo-gallery">
            <h2>Our Beautiful Memories üíï</h2>
            <div class="gallery-container">
                <div class="gallery-item gallery-placeholder">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="gallery-item gallery-placeholder">
                    <i class="fas fa-kiss-wink-heart"></i>
                </div>
                <div class="gallery-item gallery-placeholder">
                    <i class="fas fa-users"></i>
                </div>
                <div class="gallery-item gallery-placeholder">
                    <i class="fas fa-glass-cheers"></i>
                </div>
            </div>
            <p style="margin-top: 15px; font-style: italic;">(Add your favorite photos here!)</p>
        </div>
        
        <!-- Countdown to Next Birthday -->
        <div class="countdown-container">
            <h2>Countdown to Your Next Birthday üéÇ</h2>
            <div class="countdown-timer">
                <div class="countdown-unit">
                    <div class="countdown-value" id="days">0</div>
                    <div class="countdown-label">Days</div>
                </div>
                <div class="countdown-unit">
                    <div class="countdown-value" id="hours">0</div>
                    <div class="countdown-label">Hours</div>
                </div>
                <div class="countdown-unit">
                    <div class="countdown-value" id="minutes">0</div>
                    <div class="countdown-label">Minutes</div>
                </div>
                <div class="countdown-unit">
                    <div class="countdown-value" id="seconds">0</div>
                    <div class="countdown-label">Seconds</div>
                </div>
            </div>
        </div>
        
        <!-- Heart Drawing Section -->
        <div class="heart-drawing-container">
            <h2>Draw Your Heart üíï</h2>
            <p class="drawing-instructions">Trace the heart shape as accurately as you can. The more accurate, the higher your love score!</p>
            
            <div class="drawing-area">
                <canvas id="drawingCanvas"></canvas>
                <svg class="heart-template" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <path d="M50,20 
                             A30,30 0 0,1 80,50 
                             C80,60 70,70 50,85 
                             C30,70 20,60 20,50 
                             A30,30 0 0,1 50,20Z" 
                          fill="none" stroke="#e84393" stroke-width="1" />
                </svg>
            </div>
            
            <div class="color-picker">
                <div class="color-option active" style="background-color: #e84393;" data-color="#e84393"></div>
                <div class="color-option" style="background-color: #fd79a8;" data-color="#fd79a8"></div>
                <div class="color-option" style="background-color: #ff6b6b;" data-color="#ff6b6b"></div>
                <div class="color-option" style="background-color: #ff9a9e;" data-color="#ff9a9e"></div>
                <div class="color-option" style="background-color: #a29bfe;" data-color="#a29bfe"></div>
            </div>
            
            <div class="brush-size">
                <label for="brushSize">Brush Size:</label>
                <input type="range" id="brushSize" min="1" max="20" value="5">
            </div>
            
            <div class="progress-container">
                <div class="progress-text">Heart Completion: <span id="progressPercent">0%</span></div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="completion-message" id="completionMessage">Start drawing to see your love score!</div>
            </div>
            
            <div class="drawing-controls">
                <button id="clearDrawing">Clear Drawing</button>
                <button id="checkHeart">Check My Heart</button>
            </div>
        </div>
        
        <div class="interactive-section">
            <div class="love-meter-container">
                <h2>Our Love Meter</h2>
                <div class="love-meter">
                    <div class="love-fill" id="loveFill" style="width: 100%"></div>
                </div>
                <div class="love-percentage" id="lovePercentage">100%</div>
                <button id="increaseLove">Increase Love üíñ</button>
            </div>
        </div>

        <!-- Love Game Section -->
        <div class="love-game-container">
            <h2>üíï Love Memory Game üíï</h2>
            <p>Find all the matching pairs to win a special surprise!</p>
            
            <div class="game-info">
                <div>Moves: <span id="movesCount">0</span></div>
                <div>Pairs Found: <span id="pairsCount">0</span>/6</div>
            </div>
            
            <div class="memory-game" id="memoryGame">
                <!-- Cards will be generated by JavaScript -->
            </div>
            
            <div class="game-message" id="gameMessage">
                Click any card to start the game!
            </div>
            
            <button id="restartGame" style="margin-top: 20px;">Restart Game üîÑ</button>
        </div>
        
        <div class="controls">
            <button id="showSurprise">Special Surprise üéÅ</button>
            <button id="createHearts">Create Hearts üíï</button>
            <button id="saveCard">Save This Card üíæ</button>
        </div>
    </div>

    <!-- Special Surprise Modal -->
    <div class="special-surprise" id="specialSurprise">
        <div class="surprise-content">
            <button class="close-surprise">&times;</button>
            <h2>My Sweet Promises to You üíù</h2>
            
            <div class="romantic-message">
                <p>"My darling, on your special day and every day that follows, I want to make these promises from the bottom of my heart..."</p>
            </div>
            
            <div class="promises-container">
                <div class="promise-card">
                    <i class="fas fa-heart"></i>
                    <h3>Promise of Love</h3>
                    <p>I promise to love you more with each passing day, to cherish every moment we share, and to always make you feel like the most special woman in the world.</p>
                </div>
                
                <div class="promise-card">
                    <i class="fas fa-kiss-wink-heart"></i>
                    <h3>Promise of Attention</h3>
                    <p>I promise to always listen to you, to understand your feelings, and to be there for you whenever you need me, no matter what.</p>
                </div>
                
                <div class="promise-card">
                    <i class="fas fa-hand-holding-heart"></i>
                    <h3>Promise of Support</h3>
                    <p>I promise to support your dreams, encourage your ambitions, and stand by your side through every challenge and triumph.</p>
                </div>
                
                <div class="promise-card">
                    <i class="fas fa-laugh-beam"></i>
                    <h3>Promise of Happiness</h3>
                    <p>I promise to make you smile every single day, to create beautiful memories together, and to fill our lives with laughter and joy.</p>
                </div>
                
                <div class="promise-card">
                    <i class="fas fa-user-clock"></i>
                    <h3>Promise of Time</h3>
                    <p>I promise to always make time for us, to prioritize our relationship, and to never take our precious moments together for granted.</p>
                </div>
                
                <div class="promise-card">
                    <i class="fas fa-shield-heart"></i>
                    <h3>Promise of Protection</h3>
                    <p>I promise to protect your heart, to be your safe haven, and to always make you feel secure and loved in my arms.</p>
                </div>
                
                <div class="promise-card">
                    <i class="fas fa-magic"></i>
                    <h3>Promise of Romance</h3>
                    <p>I promise to keep the romance alive, to surprise you with little gestures of love, and to always court you like you're still my girlfriend.</p>
                </div>
                
                <div class="promise-card">
                    <i class="fas fa-infinity"></i>
                    <h3>Promise of Forever</h3>
                    <p>I promise to love you forever, to grow old with you gracefully, and to be your partner in every adventure life brings our way.</p>
                </div>
            </div>
            
            <div class="romantic-message">
                <p>"These promises come straight from my heart. You are my everything, and I will spend my lifetime proving how much you mean to me. Happy Birthday, my love! üíñ"</p>
            </div>
            
            <button onclick="closeSpecialSurprise()" style="margin-top: 20px;">Close & Feel Loved üíï</button>
        </div>
    </div>

    <!-- Win Celebration Modal -->
    <div class="win-celebration" id="winCelebration">
        <div class="win-content">
            <h2>üéâ You Win! üéâ</h2>
            <p>You found all the love pairs! You're amazing!</p>
            <p>Here's your reward: Infinite love and kisses! üíãüíñ</p>
            <button id="closeWin">Continue Celebrating! üéÇ</button>
        </div>
    </div>

    <!-- Audio Element for Background Music -->
    <audio id="backgroundMusic" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        // Loading Screen
        window.addEventListener('load', function() {
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingBar = document.getElementById('loadingBar');
            
            // Simulate loading progress
            let progress = 0;
            const interval = setInterval(() => {
                progress += 10;
                loadingBar.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        loadingScreen.style.opacity = '0';
                        setTimeout(() => {
                            loadingScreen.style.display = 'none';
                        }, 500);
                    }, 300);
                }
            }, 200);
        });

        // Create background animation
        function createBackgroundAnimation() {
            const backgroundAnimation = document.getElementById('backgroundAnimation');
            const colors = ['#ff9a9e', '#fad0c4', '#a1c4fd', '#c2e9fb', '#ffd700'];
            
            for (let i = 0; i < 25; i++) {
                const element = document.createElement('div');
                element.classList.add('floating-element');
                
                const size = Math.random() * 120 + 30;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                const animationDuration = Math.random() * 20 + 10;
                const animationDelay = Math.random() * 5;
                
                element.style.width = `${size}px`;
                element.style.height = `${size}px`;
                element.style.background = color;
                element.style.left = `${left}%`;
                element.style.top = `${top}%`;
                element.style.animationDuration = `${animationDuration}s`;
                element.style.animationDelay = `${animationDelay}s`;
                
                backgroundAnimation.appendChild(element);
            }
        }
        
        // Create floating hearts
        function createHearts() {
            const heartsContainer = document.getElementById('heartsContainer');
            const colors = ['#ff6b6b', '#e84393', '#fd79a8', '#ff9a9e', '#ffd700'];
            
            for (let i = 0; i < 25; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                
                const size = Math.random() * 30 + 15;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * 100;
                const animationDuration = Math.random() * 5 + 5;
                const animationDelay = Math.random() * 5;
                
                heart.style.width = `${size}px`;
                heart.style.height = `${size}px`;
                heart.style.background = color;
                heart.style.left = `${left}%`;
                heart.style.animationDuration = `${animationDuration}s`;
                heart.style.animationDelay = `${animationDelay}s`;
                
                heartsContainer.appendChild(heart);
                
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.parentNode.removeChild(heart);
                    }
                }, (animationDuration + animationDelay) * 1000);
            }
        }

        // Heart Drawing Functionality
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');
        
        // Set canvas dimensions
        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
        }
        
        // Drawing variables
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;
        let currentColor = '#e84393';
        let brushSize = 5;
        
        // Initialize canvas
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        // Get drawing position
        function getPosition(e) {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            
            let clientX, clientY;
            
            if (e.type.includes('touch')) {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }
            
            return {
                x: (clientX - rect.left) * scaleX,
                y: (clientY - rect.top) * scaleY
            };
        }
        
        // Start drawing
        function startDrawing(e) {
            isDrawing = true;
            const pos = getPosition(e);
            [lastX, lastY] = [pos.x, pos.y];
        }
        
        // Draw
        function draw(e) {
            if (!isDrawing) return;
            e.preventDefault();
            
            const pos = getPosition(e);
            
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(pos.x, pos.y);
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = brushSize;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.stroke();
            
            [lastX, lastY] = [pos.x, pos.y];
        }
        
        // Stop drawing
        function stopDrawing() {
            isDrawing = false;
        }
        
        // Event listeners for drawing
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);
        
        // Touch events for mobile
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            startDrawing(e);
        });
        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            draw(e);
        });
        canvas.addEventListener('touchend', stopDrawing);
        
        // Color picker
        document.querySelectorAll('.color-option').forEach(option => {
            option.addEventListener('click', () => {
                document.querySelectorAll('.color-option').forEach(opt => {
                    opt.classList.remove('active');
                });
                option.classList.add('active');
                currentColor = option.getAttribute('data-color');
            });
        });
        
        // Brush size
        document.getElementById('brushSize').addEventListener('input', (e) => {
            brushSize = e.target.value;
        });
        
        // Clear drawing
        document.getElementById('clearDrawing').addEventListener('click', () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            updateProgress(0, "Drawing cleared. Start again!");
        });
        
        // Check heart accuracy
        document.getElementById('checkHeart').addEventListener('click', checkHeartAccuracy);
        
        // Check heart accuracy function
        function checkHeartAccuracy() {
            // Get canvas image data
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;
            
            // Define the heart shape area
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const heartWidth = canvas.width * 0.6;
            const heartHeight = canvas.height * 0.6;
            
            let drawnPixels = 0;
            let correctPixels = 0;
            
            // Simple heart shape formula for checking
            for (let y = 0; y < canvas.height; y++) {
                for (let x = 0; x < canvas.width; x++) {
                    const index = (y * canvas.width + x) * 4;
                    
                    // Check if pixel is drawn (not transparent)
                    if (data[index + 3] > 0) {
                        drawnPixels++;
                        
                        // Check if pixel is inside the heart shape
                        const normalizedX = (x - centerX) / (heartWidth / 2);
                        const normalizedY = (y - centerY) / (heartHeight / 2);
                        
                        // Heart equation: (x¬≤ + y¬≤ - 1)¬≥ - x¬≤ * y¬≥ < 0
                        const heartValue = Math.pow(normalizedX * normalizedX + normalizedY * normalizedY - 1, 3) 
                                         - normalizedX * normalizedX * Math.pow(normalizedY, 3);
                        
                        if (heartValue < 0) {
                            correctPixels++;
                        }
                    }
                }
            }
            
            // Calculate accuracy percentage
            let accuracy = 0;
            if (drawnPixels > 0) {
                accuracy = Math.min(100, Math.round((correctPixels / drawnPixels) * 100));
            }
            
            // Adjust score based on how much of the heart is filled
            const coverage = drawnPixels / (canvas.width * canvas.height) * 1000;
            const coverageBonus = Math.min(30, coverage);
            
            // Final score with coverage bonus
            const finalScore = Math.min(100, accuracy + coverageBonus);
            
            updateProgress(finalScore, getMessageForScore(finalScore));
            
            // Visual feedback
            if (finalScore > 70) {
                createHearts(10);
            }
        }
        
        // Update progress display
        function updateProgress(score, message) {
            const progressFill = document.getElementById('progressFill');
            const progressPercent = document.getElementById('progressPercent');
            const completionMessage = document.getElementById('completionMessage');
            
            progressFill.style.width = `${score}%`;
            progressPercent.textContent = `${score}%`;
            completionMessage.textContent = message;
            
            // Change color based on score
            if (score < 30) {
                progressFill.style.background = 'linear-gradient(90deg, #ff6b6b, #e84393)';
            } else if (score < 70) {
                progressFill.style.background = 'linear-gradient(90deg, #fd79a8, #e84393)';
            } else {
                progressFill.style.background = 'linear-gradient(90deg, #4CAF50, #45a049)';
            }
        }
        
        // Get appropriate message for score
        function getMessageForScore(score) {
            if (score < 20) {
                return "Keep trying! You can do it! üíï";
            } else if (score < 40) {
                return "Good start! Try to follow the heart shape more closely.";
            } else if (score < 60) {
                return "Nice! Your heart is taking shape!";
            } else if (score < 80) {
                return "Great job! That's a beautiful heart!";
            } else if (score < 95) {
                return "Amazing! Your heart is almost perfect!";
            } else {
                return "Perfect! Your love is overflowing! üíñ";
            }
        }

        // Love Memory Game
        const loveSymbols = ['üíñ', 'üíï', 'üíã', 'üíë', 'üíè', 'üíò', 'üíù', 'üíì'];
        let gameState = {
            cards: [],
            flippedCards: [],
            matchedPairs: 0,
            moves: 0,
            gameStarted: false
        };

        function initializeGame() {
            const memoryGame = document.getElementById('memoryGame');
            memoryGame.innerHTML = '';
            
            // Create pairs of symbols
            let symbols = [...loveSymbols.slice(0, 6), ...loveSymbols.slice(0, 6)];
            
            // Shuffle the symbols
            symbols = symbols.sort(() => Math.random() - 0.5);
            
            // Create cards
            gameState.cards = symbols.map((symbol, index) => ({
                id: index,
                symbol: symbol,
                flipped: false,
                matched: false
            }));
            
            // Render cards
            gameState.cards.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'memory-card';
                cardElement.dataset.id = card.id;
                
                cardElement.innerHTML = `
                    <div class="front">${card.symbol}</div>
                    <div class="back">?</div>
                `;
                
                cardElement.addEventListener('click', () => flipCard(card.id));
                memoryGame.appendChild(cardElement);
            });
            
            // Reset game state
            gameState.flippedCards = [];
            gameState.matchedPairs = 0;
            gameState.moves = 0;
            gameState.gameStarted = false;
            
            updateGameDisplay();
            document.getElementById('gameMessage').textContent = 'Click any card to start the game!';
        }

        function flipCard(cardId) {
            const card = gameState.cards[cardId];
            const cardElement = document.querySelector(`.memory-card[data-id="${cardId}"]`);
            
            if (card.flipped || card.matched || gameState.flippedCards.length === 2) {
                return;
            }
            
            // Start game on first move
            if (!gameState.gameStarted) {
                gameState.gameStarted = true;
                document.getElementById('gameMessage').textContent = 'Find the matching pairs!';
            }
            
            // Flip the card
            card.flipped = true;
            cardElement.classList.add('flipped');
            gameState.flippedCards.push(card);
            
            // Check for match when two cards are flipped
            if (gameState.flippedCards.length === 2) {
                gameState.moves++;
                updateGameDisplay();
                
                const [card1, card2] = gameState.flippedCards;
                
                if (card1.symbol === card2.symbol) {
                    // Match found
                    card1.matched = true;
                    card2.matched = true;
                    gameState.matchedPairs++;
                    
                    setTimeout(() => {
                        document.querySelector(`.memory-card[data-id="${card1.id}"]`).classList.add('matched');
                        document.querySelector(`.memory-card[data-id="${card2.id}"]`).classList.add('matched');
                        gameState.flippedCards = [];
                        
                        updateGameDisplay();
                        checkWinCondition();
                    }, 500);
                } else {
                    // No match
                    setTimeout(() => {
                        card1.flipped = false;
                        card2.flipped = false;
                        document.querySelector(`.memory-card[data-id="${card1.id}"]`).classList.remove('flipped');
                        document.querySelector(`.memory-card[data-id="${card2.id}"]`).classList.remove('flipped');
                        gameState.flippedCards = [];
                    }, 1000);
                }
            }
        }

        function updateGameDisplay() {
            document.getElementById('movesCount').textContent = gameState.moves;
            document.getElementById('pairsCount').textContent = gameState.matchedPairs;
        }

        function checkWinCondition() {
            if (gameState.matchedPairs === 6) {
                setTimeout(() => {
                    document.getElementById('winCelebration').classList.add('active');
                    createHearts();
                    createHearts(); // Extra hearts for winning!
                }, 500);
            }
        }

        function closeWinCelebration() {
            document.getElementById('winCelebration').classList.remove('active');
        }

        // Special Surprise functionality
        function showSpecialSurprise() {
            const specialSurprise = document.getElementById('specialSurprise');
            specialSurprise.classList.add('active');
            createHearts();
            createHearts(); // Extra hearts for the surprise!
        }

        function closeSpecialSurprise() {
            const specialSurprise = document.getElementById('specialSurprise');
            specialSurprise.classList.remove('active');
            createHearts();
        }

        // Love meter functionality
        let loveLevel = 100;
        const loveFill = document.getElementById('loveFill');
        const lovePercentage = document.getElementById('lovePercentage');
        const increaseLoveBtn = document.getElementById('increaseLove');
        
        increaseLoveBtn.addEventListener('click', () => {
            if (loveLevel < 100) {
                loveLevel += 10;
                if (loveLevel > 100) loveLevel = 100;
                loveFill.style.width = `${loveLevel}%`;
                lovePercentage.textContent = `${loveLevel}%`;
                
                createHearts();
                
                if (loveLevel === 100) {
                    alert("My love for you is infinite! üíñ");
                }
            }
        });

        // Countdown to next birthday
        function updateCountdown() {
            // Set the next birthday date (change this to your wife's actual birthday)
            const now = new Date();
            const nextBirthday = new Date(now.getFullYear(), 10, 15); // November 15th (change month/day as needed)
            
            // If birthday has passed this year, set for next year
            if (now > nextBirthday) {
                nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);
            }
            
            const diff = nextBirthday - now;
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;
        }

        // Music player functionality
        const backgroundMusic = document.getElementById('backgroundMusic');
        const playMusicBtn = document.getElementById('playMusic');
        const pauseMusicBtn = document.getElementById('pauseMusic');
        
        playMusicBtn.addEventListener('click', () => {
            backgroundMusic.play();
        });
        
        pauseMusicBtn.addEventListener('click', () => {
            backgroundMusic.pause();
        });

        // Save card functionality
        document.getElementById('saveCard').addEventListener('click', () => {
            alert("To save this card, take a screenshot or use your browser's print function to save as PDF. This memory will last forever in our hearts! üíñ");
        });
        
        // Event listeners
        document.getElementById('showSurprise').addEventListener('click', showSpecialSurprise);
        document.getElementById('createHearts').addEventListener('click', createHearts);
        document.getElementById('restartGame').addEventListener('click', initializeGame);
        document.getElementById('closeWin').addEventListener('click', closeWinCelebration);
        document.querySelector('.close-surprise').addEventListener('click', closeSpecialSurprise);
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            createBackgroundAnimation();
            createHearts();
            initializeGame();
            updateCountdown();
            updateProgress(0, "Trace the heart shape to show your love! üíñ");
            
            // Update countdown every second
            setInterval(updateCountdown, 1000);
            
            // Auto-create hearts every 8 seconds
            setInterval(createHearts, 8000);
        });
    </script>
</body>
</html>